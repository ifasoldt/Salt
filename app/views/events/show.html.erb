<% content_for :stylesheets do %>
  <link rel="stylesheet" href="/css/flatpickr.min.css" />
  <link rel="stylesheet" href="/css/events/show.css" />
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.css"/>
  <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick-theme.css"/>
<% end %>

<div id="showEvent">

</div>




<% if @event.host_id == current_user&.id %>
  <a href="#" data-toggle="modal" data-target="#eventModal"><button class="btn">Edit Event</button></a>
  <% else %>
  <a href="#" data-toggle="modal" data-target="#joinEventModal"><button class="btn">Join Event</button></a>
<% end %>


<div class="modal fade" id="eventModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title"><%= @event.title %></h4>
      </div>
      <div class="modal-body">
        <form method="post" action="#" enctype="multipart/form-data" id="current_event" data-id="<%= @event.id %>">
          <div class="form-group">
            <label for="title">Event Title</label>
            <input type="text" class="form-control" id="title" value="<%= @event.title %>" name="title" required />
          </div>
          <div class="form-group">
            <label for="date">Event Date</label>
            <input type="text" class="form-control flatpickr" id="date" value="<%= @event.date %>" name="date" data-date-format="d-m-Y" />
          </div>
          <div class="form-group">
            <label for="time">Event Time</label>
            <input type="text" data-enable-time="true" data-no-calendar="true" value="<%= @event.time %>" class="form-control flatpickr" id="time" name="time" required />
          </div>
          <div class="form-group">
            <label for="images_files">Event Image</label>
            <input type="file" class="form-control" name="images_files" id="images_files" multiple />
          </div>
          <div class="form-group">
            <label for="guest_limit">Number Of Guests</label>
            <input type="text" class="form-control" id="guest_limit" value="<%= @event.guest_limit %>" name="guest_limit" />
          </div>
          <div class="form-group">
            <label for="unlimited_guests">No Guest Limit</label>
            <% if @event.unlimited_guests %>
              <input type="checkbox" id="unlimited_guests" checked="<%= @event.unlimited_guests %>" name="unlimited_guests" />
            <% else %>
              <input type="checkbox" id="unlimited_guests" name="unlimited_guests" />
            <% end %>
          </div>
          <div class="form-group">
            <label for="allow_children">Children Welcome</label>
            <% if @event.allow_children %>
              <input type="checkbox" id="allow_children" checked="checked" name="allow_children" />
            <% else %>
              <input type="checkbox" id="allow_children" name="allow_children" />
            <% end %>
          </div>
          <div class="form-group">
            <label for="alcohol_allowed">Alcohol Welcome</label>
            <% if @event.alcohol_allowed %>
            <input type="checkbox" id="alcohol_allowed" checked="checked" name="alcohol_allowed"/>
            <% else %>
            <input type="checkbox" id="alcohol_allowed" name="alcohol_allowed"/>
            <% end %>
          </div>
          <div class="form-group">
            <label for="food">Food/Drink</label>
            <textarea type="text" id="food" name="food" class="form-control text_input" /><%= @event.food %></textarea>
          </div>
          <div class="form-group">
            <label for="description">Description Of Event</label>
            <textarea type="text" id="description" class="form-control text_input" name="description"><%= @event.description %></textarea>
          </div>
          <br />
          <h4>Event Address</h4>
          <hr />
          <div class="form-group">
            <label for="user_address">Event Will Be Hosted At Your Address</label>
            <input type="checkbox" id="user_address" name="user_address" />
          </div>
          <div class="form-group">
            <label for="street">Address</label>
            <input type="text" class="form-control" id="streetEvent" value="<%= @event.address&.street %>" name="street"  />
          </div>
          <div class="form-group">
            <label for="city">City</label>
            <input type="text" class="form-control" id="cityEvent" value="<%= @event.address&.city %>" name="city"  />
          </div>
          <div class="form-group">
            <label for="state" >State</label>
            <select id="stateEvent" name="state" selected="<%= @event.address&.state %>" value="<%= @event.address&.state %>" class="form-control">
              <% if @event.address %>
                <option selected value="<%= @event.address&.state %>"><%= @event.address&.state %></option>
              <% else %>
                <option disabled selected value> -- select a state -- </option>
              <% end %>
              <option value="Alabama">Alabama</option>
              <option value="Alaska">Alaska</option>
              <option value="Arizona">Arizona</option>
              <option value="Arkansas">Arkansas</option>
              <option value="California">California</option>
              <option value="Colorado">Colorado</option>
              <option value="Connecticut">Connecticut</option>
              <option value="Delaware">Delaware</option>
              <option value="District Of Columbia">District Of Columbia</option>
              <option value="Florida">Florida</option>
              <option value="Georgia">Georgia</option>
              <option value="Hawaii">Hawaii</option>
              <option value="Idaho">Idaho</option>
              <option value="Illinois">Illinois</option>
              <option value="Indiana">Indiana</option>
              <option value="Iowa">Iowa</option>
              <option value="Kansas">Kansas</option>
              <option value="Kentucky">Kentucky</option>
              <option value="Louisiana">Louisiana</option>
              <option value="Maine">Maine</option>
              <option value="Maryland">Maryland</option>
              <option value="Massachusetts">Massachusetts</option>
              <option value="Michigan">Michigan</option>
              <option value="Minnesota">Minnesota</option>
              <option value="Mississippi">Mississippi</option>
              <option value="Missouri">Missouri</option>
              <option value="Montana">Montana</option>
              <option value="Nebraska">Nebraska</option>
              <option value="Nevada">Nevada</option>
              <option value="New Hampshire">New Hampshire</option>
              <option value="New Jersey">New Jersey</option>
              <option value="New Mexico">New Mexico</option>
              <option value="New York">New York</option>
              <option value="North Carolina">North Carolina</option>
              <option value="North Dakota">North Dakota</option>
              <option value="Ohio">Ohio</option>
              <option value="Oklahoma">Oklahoma</option>
              <option value="Oregon">Oregon</option>
              <option value="Pennsylvania">Pennsylvania</option>
              <option value="Rhode Island">Rhode Island</option>
              <option value="South Carolina">South Carolina</option>
              <option value="South Dakota">South Dakota</option>
              <option value="Tennessee">Tennessee</option>
              <option value="Texas">Texas</option>
              <option value="Utah">Utah</option>
              <option value="Vermont">Vermont</option>
              <option value="Virginia">Virginia</option>
              <option value="Washington">Washington</option>
              <option value="West Virginia">West Virginia</option>
              <option value="Wisconsin">Wisconsin</option>
              <option value="Wyoming">Wyoming</option>
            </select>
          </div>
          <div class="form-group">
            <label for="zip">Zip Code</label>
            <input type="text" class="form-control" id="zipEvent" value="<%= @event.address&.zip %>" name="zip"  />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" id="btn_event_submit" class="btn btn-default">
          <span>Submit</span>
        </button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="joinEventModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Join Event</h4>
      </div>
      <div class="modal-body">
        <form method="post" action="#" enctype="multipart/form-data" id="current_event_join" data-id="<%= @event.id %>">
          <div class="form-group">
            <label for="application_guests">Number Of Guests</label>
            <input type="text" class="form-control" id="application_guests" name="application_guests" />
          </div>
          <div class="form-group">
            <label for="application_message">Message To Event Creator</label>
            <textarea type="text" id="application_message" class="form-control text_input" name="application_message" placeholder="Describe Guests"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" id="btn_application_submit" class="btn btn-default">
          <span>Submit</span>
        </button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>


<% content_for :scripts do %>
  <script src="/js/flatpickr.min.js"></script>
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.slick/1.6.0/slick.min.js"></script>
  <script src="/js/events/show.js"></script>
  <script src="/js/events/showEvent.bundle.js"></script>
  <script src="/js/configImages.js"></script>
  <script type="text/javascript">
      $("#date").flatpickr();
      $("#time").flatpickr();
  </script>
<% end %>
